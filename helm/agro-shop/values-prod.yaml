# Production environment values (Docker Hub)

app:
  replicaCount: 1
  image:
<<<<<<< HEAD
    repository: "mukhiddinov/agro-shop"
    tag: "cf2877d"
  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 250m
      memory: 256Mi
=======
    # ✅ Docker Hub repo
    repository: "mukhiddinov/agro-shop"
    # ✅ Image Updater latest’ni kuzatadi
    tag: "latest"
    pullPolicy: Always

  env:
    - name: FLASK_ENV
      value: "production"
    # ✅ persistence mountPath = /app/data
    - name: DATABASE_URL
      value: "sqlite:////app/data/agro-prod.db"

  persistence:
    size: 5Gi
    # ⚠️ Agar cluster’da fast-ssd bo‘lmasa, bo‘sh qoldiring
    storageClass: ""

>>>>>>> 57fbf07 (fix: update helm values)
  ingress:
    hosts:
      - host: agro-shop.local
        paths:
          - path: /
            pathType: Prefix
    tls:
      - secretName: agro-shop-prod-tls
        hosts:
          - agro-shop.local
<<<<<<< HEAD
  env:
    - name: FLASK_ENV
      value: "production"
    - name: DATABASE_URL
      value: "sqlite:///data/agro-prod.db"
  persistence:
    size: 5Gi
    storageClass: "fast-ssd"
# Full monitoring stack in production
=======

# Monitoring stack in production
>>>>>>> 57fbf07 (fix: update helm values)
prometheus:
  enabled: true
  server:
    persistentVolume:
      size: 20Gi
    retention: "30d"
grafana:
  enabled: true
  persistence:
    size: 10Gi
loki:
  enabled: true
  persistence:
    size: 10Gi
promtail:
  enabled: true
<<<<<<< HEAD
=======

# ✅ Agar Prometheus Operator (CRDs) sizda BOR bo‘lsa true qiling
# Aks holda false qoldiring, bo‘lmasa ArgoCD sync yiqiladi.
serviceMonitor:
  enabled: false

>>>>>>> 57fbf07 (fix: update helm values)
# Production HPA settings
hpa:
  enabled: true
  minReplicas: 1
  maxReplicas: 3
  targetCPUUtilizationPercentage: 70
  targetMemoryUtilizationPercentage: 80
# Enable PDB in production
pdb:
  enabled: true
  minAvailable: 2
<<<<<<< HEAD
# Enable network policies in production
=======

# Enable network policies in production (xohlasangiz)
>>>>>>> 57fbf07 (fix: update helm values)
networkPolicy:
  enabled: true
